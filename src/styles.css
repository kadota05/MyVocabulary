:root{
  --bg:#0f172a; --fg:#e2e8f0; --muted:#94a3b8; --accent:#22c55e; --danger:#ef4444; --primary:#38bdf8; --footer-height:64px;
}
.app{min-height:100%;}
.container{max-width:640px; margin:0 auto; padding:calc(16px + env(safe-area-inset-top, 0px)) 16px calc(24px + env(safe-area-inset-bottom, 0px));}
.card{background:#111827; border:1px solid #1f2937; border-radius:12px; padding:16px;}
.title{font-size:20px; font-weight:700; margin:0 0 8px;}
.row{display:flex; gap:12px;}
.col{display:flex; flex-direction:column; gap:8px;}
.home-layout{ gap:12px; min-height:calc(100vh - env(safe-area-inset-top, 0px) - env(safe-area-inset-bottom, 0px)); justify-content:space-between; }
@supports (height:100svh){
  .home-layout{ min-height:calc(100svh - env(safe-area-inset-top, 0px) - env(safe-area-inset-bottom, 0px)); }
}
@supports (height:100dvh){
  .home-layout{ min-height:calc(100dvh - env(safe-area-inset-top, 0px) - env(safe-area-inset-bottom, 0px)); }
}
.home-screen{ --header-height:72px; position:relative; display:flex; flex-direction:column; min-height:100vh; width:100vw; margin-left:calc(50% - 50vw); margin-right:calc(50% - 50vw); margin-top:calc(-1 * (16px + env(safe-area-inset-top, 0px))); padding:calc(var(--header-height) + 16px) clamp(24px, 7vw, 128px) calc(var(--footer-height) + 40px + env(safe-area-inset-bottom, 0px)); box-sizing:border-box; background:var(--bg); }
.home-body{ flex:1; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:24px; min-height:calc(100vh - var(--header-height) - var(--footer-height)); }
.home-header{ position:fixed; top:0; left:0; right:0; height:var(--header-height); display:flex; align-items:center; justify-content:space-between; padding:calc(12px + env(safe-area-inset-top, 0px)) clamp(24px, 7vw, 128px) 12px; background:rgba(15,23,42,.9); backdrop-filter:blur(18px); border-bottom:1px solid #1f2937; z-index:40; }
.home-header__brand{ font-size:18px; font-weight:700; letter-spacing:0.14em; text-transform:uppercase; color:var(--fg); }
.home-header__actions{ display:flex; align-items:center; gap:12px; }
.page-screen{ --header-height:72px; position:relative; display:flex; flex-direction:column; min-height:100vh; width:100vw; margin-left:calc(50% - 50vw); margin-right:calc(50% - 50vw); margin-top:calc(-1 * (16px + env(safe-area-inset-top, 0px))); padding:calc(var(--header-height) + 24px) clamp(24px, 7vw, 128px) calc(var(--footer-height) + 32px + env(safe-area-inset-bottom, 0px)); box-sizing:border-box; background:var(--bg); }
.page-body{ flex:1; width:100%; max-width:640px; margin:0 auto; display:flex; flex-direction:column; gap:20px; }
.footer-nav{ position:fixed; left:0; right:0; bottom:0; display:flex; align-items:flex-end; justify-content:center; gap:6px; padding:10px clamp(24px, 10vw, 160px) calc(6px + env(safe-area-inset-bottom, 0px)); background:rgba(11,16,30,.92); backdrop-filter:blur(18px); border-top:1px solid #1f2937; z-index:60; }
.footer-nav__item{ flex:1; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:6px; color:var(--muted); text-decoration:none; letter-spacing:0.08em; font-size:11px; text-transform:uppercase; transition:color .2s ease; }
.footer-nav__item--active{ color:var(--fg); }
.footer-nav__icon{ width:40px; height:40px; border-radius:12px; border:1px solid rgba(51,65,85,.7); background:rgba(15,23,42,.9); display:flex; align-items:center; justify-content:center; transition:border-color .2s ease, transform .2s ease, background .2s ease; }
.footer-nav__item--active .footer-nav__icon{ border-color:var(--primary); background:rgba(38,132,255,.12); transform:translateY(-4px); }
.footer-nav__label{ font-weight:600; letter-spacing:0.14em; font-size:9px; }
.footer-nav__item:focus-visible .footer-nav__icon{ outline:2px solid rgba(56,189,248,.75); outline-offset:4px; }
.icon-button{ appearance:none; width:48px; height:48px; border-radius:9999px; border:1px solid rgba(51,65,85,.6); background:rgba(17,24,39,.85); color:var(--fg); display:flex; align-items:center; justify-content:center; cursor:pointer; transition:background .18s ease, border-color .18s ease, transform .18s ease; }
.icon-button:hover{ background:rgba(30,41,59,.95); border-color:#334155; }
.icon-button:active{ transform:scale(0.95); }
.home-settings{ max-width:min(520px,100%); margin:0 auto; gap:12px; backdrop-filter:blur(8px); }
.settings-title{ font-weight:700; font-size:16px; color:var(--fg); }
.circle-hero{ flex:1; display:flex; align-items:center; justify-content:center; padding:clamp(8px, 4vh, 32px) 0; width:100%; }
.home-note{ max-width:420px; margin:0 auto; text-align:center; line-height:1.6; }
.import-progress{ position:fixed; inset:0; background:rgba(0,0,0,.55); display:flex; align-items:center; justify-content:center; padding:24px; z-index:80; }
.modal-overlay{ position:fixed; inset:0; background:rgba(2,6,23,.68); backdrop-filter:blur(12px); display:flex; align-items:center; justify-content:center; padding:24px; z-index:90; }
.modal-card{ width:min(520px, calc(100% - 32px)); background:#0f172a; border:1px solid rgba(51,65,85,.6); border-radius:18px; box-shadow:0 28px 64px rgba(2,6,23,.55); padding:0; display:flex; flex-direction:column; gap:0; }
.modal-header{ display:flex; align-items:center; justify-content:space-between; padding:20px 24px 16px; border-bottom:1px solid rgba(51,65,85,.5); }
.modal-title{ font-weight:700; font-size:18px; letter-spacing:0.04em; color:var(--fg); }
.modal-close{ appearance:none; width:40px; height:40px; border-radius:12px; border:1px solid rgba(51,65,85,.6); background:rgba(17,24,39,.9); color:var(--fg); font-size:22px; line-height:1; display:flex; align-items:center; justify-content:center; cursor:pointer; transition:background .18s ease, transform .18s ease; }
.modal-close:hover{ background:rgba(30,41,59,.95); }
.modal-close:active{ transform:scale(0.92); }
.modal-body{ padding:20px 24px 24px; display:flex; flex-direction:column; gap:14px; align-items:stretch; }
.modal-body > .col,
.modal-body > form{ width:100%; }
.modal-actions{ display:flex; justify-content:flex-end; gap:12px; margin-top:8px; }
.fab-overlay{ position:fixed; inset:0; background:rgba(8,15,28,.55); backdrop-filter:blur(2px); z-index:45; }
.fab-container{ position:fixed; right:clamp(20px, 6vw, 54px); bottom:calc(var(--footer-height) + clamp(20px, 6vh, 72px)); display:flex; flex-direction:column; align-items:flex-end; gap:12px; z-index:50; pointer-events:none; }
.fab-container.open{ pointer-events:auto; }
.fab-container .fab-toggle{ pointer-events:auto; }
.fab-menu{ display:flex; flex-direction:column; gap:10px; align-items:flex-end; opacity:0; pointer-events:none; transform:translateY(12px); transition:opacity .18s ease, transform .18s ease; }
.fab-container.open .fab-menu{ opacity:1; pointer-events:auto; transform:translateY(0); }
.fab-item{ appearance:none; border-radius:18px; border:1px solid rgba(51,65,85,.9); background:rgba(15,23,42,.96); color:var(--fg); padding:18px 28px; font-weight:600; font-size:18px; min-width:220px; text-align:center; cursor:pointer; box-shadow:0 22px 44px rgba(2,6,23,.42); transition:background .18s ease, transform .18s ease, box-shadow .18s ease; letter-spacing:0.04em; }
.fab-item:hover{ background:rgba(30,41,59,.97); transform:translateY(-1px); box-shadow:0 20px 36px rgba(2,6,23,.4); }
.fab-item:active{ transform:translateY(1px); box-shadow:0 10px 24px rgba(2,6,23,.35); }
.fab-item:disabled{ opacity:.6; cursor:progress; transform:none; box-shadow:0 12px 28px rgba(2,6,23,.3); }
.fab-item--leap{ background:linear-gradient(135deg, rgba(4,78,57,.95), rgba(6,95,70,.98)); border-color:rgba(12,164,111,.85); color:#e6fff2; box-shadow:0 16px 36px rgba(6,95,70,.42); }
.fab-item--leap:hover{ background:linear-gradient(135deg, rgba(6,95,70,.97), rgba(14,148,87,.99)); border-color:rgba(34,197,94,.92); box-shadow:0 20px 44px rgba(14,148,87,.4); }
.fab-item--leap:active{ transform:translateY(0); box-shadow:0 12px 28px rgba(4,78,57,.38); }
.fab-toggle{ appearance:none; width:64px; height:64px; border-radius:9999px; border:none; background:var(--accent); color:#022c22; font-size:36px; font-weight:400; display:flex; align-items:center; justify-content:center; cursor:pointer; box-shadow:0 24px 48px rgba(34,197,94,.45); transition:transform .2s ease, box-shadow .2s ease; }
.fab-container.open .fab-toggle{ transform:rotate(45deg); box-shadow:0 16px 32px rgba(34,197,94,.4); }
.words-screen{ padding-bottom:calc(120px + env(safe-area-inset-bottom, 0px)); }
.words-toolbar{ position:sticky; top:calc(var(--header-height) + 12px + env(safe-area-inset-top, 0px)); display:flex; flex-direction:column; gap:10px; padding:16px; background:rgba(15,23,42,.92); border:1px solid #1f2937; border-radius:14px; box-shadow:0 16px 32px rgba(2,6,23,.45); backdrop-filter:blur(12px); z-index:30; }
.words-header__search{ display:flex; flex-direction:column; gap:6px; }
.words-header__search .input{ width:100%; }
.words-header__metrics{ font-size:14px; color:var(--muted); letter-spacing:0.02em; }
.words-main{ flex:1; display:flex; flex-direction:column; gap:12px; min-height:0; width:100%; max-width:640px; margin:0 auto; padding-top:12px; }
.words-list{ display:flex; flex-direction:column; gap:8px; }
.grow{flex:1}
.btn{appearance:none; border:1px solid #334155; background:#0b1220; color:var(--fg); padding:12px 16px; border-radius:10px; font-weight:600;}
.btn:active{transform:scale(0.98)}
.btn-primary{border-color:#155e75; background:#0b3a4b}
.btn-accent{border-color:#14532d; background:#0b2b16}
.btn-danger{border-color:#7f1d1d; background:#2a0b0b}
.hero-stack{ --circle-size:clamp(260px, min(70vw, 52vh), 520px); position:relative; width:var(--circle-size); height:calc(var(--circle-size) * 1.9); display:flex; align-items:center; justify-content:center; margin:0 auto; }
.hero-orb{ position:absolute; width:var(--circle-size); height:var(--circle-size); border-radius:50%; display:flex; align-items:center; justify-content:center; left:50%; transform:translate(-50%,0); }
.hero-orb--top{ top:calc(-0.47 * var(--circle-size)); background:#0e5d6c; box-shadow:0 26px 60px rgba(0,0,0,.45); z-index:0; pointer-events:none; }
.hero-orb--bottom{ bottom:calc(-0.47 * var(--circle-size)); background:#b97711; box-shadow:0 -18px 60px rgba(0,0,0,.35); z-index:0; pointer-events:none; }
.hero-orb--main{ position:absolute; top:50%; transform:translate(-50%,-50%); width:calc(var(--circle-size) * 0.98); height:calc(var(--circle-size) * 0.98); background:#c9d1c2; border:5px solid #d6a258; box-shadow:0 24px 64px rgba(2,6,23,.55); transition:transform .25s ease, box-shadow .25s ease; z-index:5; overflow:hidden; text-decoration:none; cursor:pointer; appearance:none; padding:0; color:#ffffff; touch-action:manipulation; pointer-events:auto; }
.hero-stack:hover .hero-orb--main{ transform:translate(-50%,-51%); box-shadow:0 34px 80px rgba(2,6,23,.6); }
.hero-stack:active .hero-orb--main{ transform:translate(-50%,-48%) scale(0.99); box-shadow:0 20px 52px rgba(2,6,23,.5); }
.hero-orb--main:focus-visible{ outline:3px solid rgba(56,189,248,.85); outline-offset:6px; }
.hero-orb--main::before,
.hero-orb--main::after{ content:""; position:absolute; inset:-12%; border-radius:50%; pointer-events:none; }
.hero-orb--main::before{ background:radial-gradient(circle at 50% 0%, rgba(14,93,108,.6) 0%, rgba(14,93,108,.45) 28%, rgba(14,93,108,0) 58%); mix-blend-mode:multiply; opacity:0.8; }
.hero-orb--main::after{ background:radial-gradient(circle at 50% 100%, rgba(185,119,17,.55) 0%, rgba(185,119,17,.36) 32%, rgba(185,119,17,0) 58%); mix-blend-mode:multiply; opacity:0.7; }
.hero-label{ position:relative; z-index:2; font-size:clamp(18px, 4.4vw, 28px); letter-spacing:0.08em; text-transform:none; color:#ffffff; font-weight:600; font-feature-settings:'palt'; }
.hero-meta{ position:relative; z-index:1; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:3px; text-align:center; color:#f8fafc; font-size:clamp(10px, 2vw, 13px); font-weight:500; letter-spacing:0.06em; text-transform:none; text-shadow:0 6px 18px rgba(10,20,35,.45); }
.hero-meta--bottom{ gap:4px; }
.hero-meta__date{ font-size:clamp(11px, 2.4vw, 14px); font-weight:600; letter-spacing:0.12em; text-transform:uppercase; }
.hero-meta__detail{ font-size:clamp(10px, 2.1vw, 13px); opacity:0.9; }
.hero-meta__detail--day{ white-space:nowrap; }

.review-header .home-header__brand{ letter-spacing:0.12em; }
.hero-number{ font-weight:600; font-size:clamp(11px, 2.4vw, 15px); letter-spacing:0.1em; }
.review-screen{ --review-footer-height:156px; padding-bottom:calc(var(--review-footer-height) + env(safe-area-inset-bottom, 0px)); }
.review-body{ flex:1; width:100%; max-width:720px; margin:0 auto; display:flex; flex-direction:column; gap:24px; justify-content:center; align-items:center; padding-top:calc(var(--header-height) + 8px); padding-bottom:calc(var(--review-footer-height) + 48px); box-sizing:border-box; }
.review-stage{ width:100%; display:flex; justify-content:center; align-items:center; flex:1; padding-top:20px; padding-bottom:20px; box-sizing:border-box; }
.review-card{ width:100%; max-width:520px; min-height:260px; display:flex; align-items:center; justify-content:center; text-align:center; padding:32px; }
.review-face.main{ font-size:clamp(28px, 7vw, 36px); font-weight:700; }
.review-face.back{ display:flex; flex-direction:column; gap:12px; align-items:center; }
.review-meaning{ font-size:clamp(24px, 6vw, 32px); font-weight:600; }
.review-extra{ font-size:16px; color:var(--muted); text-align:center; }
.review-extra a{ color:var(--primary); text-decoration:underline; }
.review-footer{ position:fixed; left:0; right:0; bottom:0; display:flex; flex-direction:column; align-items:center; gap:14px; padding:18px clamp(24px, 7vw, 128px) calc(18px + env(safe-area-inset-bottom, 0px)); background:rgba(15,23,42,.92); backdrop-filter:blur(18px); border-top:1px solid #1f2937; z-index:35; }
.review-footer__stats{ display:flex; justify-content:center; gap:18px; color:var(--muted); font-size:14px; letter-spacing:0.02em; }
.review-grade-grid{ display:grid; grid-template-columns:repeat(3, 1fr); gap:12px; width:100%; max-width:520px; }
.review-grade{ padding:16px 0; font-size:16px; }
.review-session-screen .leap-session-main,
.session-card-layout .leap-session-main{ padding-top:calc(var(--header-height)); padding-bottom:32px; box-sizing:border-box; }
.input{width:100%; max-width:100%; box-sizing:border-box; padding:12px 12px; border-radius:10px; border:1px solid #334155; background:#0b1220; color:var(--fg); font-size:16px; }
.form-error{ font-size:13px; color:var(--danger); margin-top:-2px; text-align:left; }
.label{font-size:12px; color:var(--muted)}
.center{ display:flex; align-items:center; justify-content:center; }
.big{ font-size:28px; text-align:center; line-height:1.4; }
.muted{ color:var(--muted); }
.footer{ position:fixed; left:0; right:0; bottom:0; background:rgba(8,12,20,.8); backdrop-filter: blur(4px); border-top:1px solid #1f2937; padding:8px 12px;}
.space{height:72px}
.pill{border:1px solid #334155; padding:8px 12px; border-radius:9999px; font-weight:600;}
.word-card__body{display:flex; flex-direction:column; gap:6px;}
.word-card__header{justify-content:space-between; align-items:flex-start; gap:12px; flex-wrap:wrap;}
.word-card__phrase{font-weight:700; font-size:16px; color:var(--fg); flex:1 1 auto; min-width:0; word-break:break-word;}
.word-card__actions{display:flex; align-items:center; gap:10px; flex-shrink:0;}
.word-card__action{appearance:none; background:none; border:none; color:var(--muted); padding:0; font-size:14px; font-weight:500; cursor:pointer; transition:color .18s ease, opacity .18s ease;}
.word-card__action:hover{color:var(--fg);}
.word-card__action:focus-visible{outline:2px solid var(--primary); outline-offset:2px;}
.word-card__action--danger{color:var(--danger);}
.word-card__action[disabled]{opacity:0.5; cursor:not-allowed;}
.word-card__next{font-size:12px;}
.word-card__stats{font-size:12px; margin-top:0;}
.word-card__source{font-size:13px; overflow-wrap:anywhere;}
.word-card__source-link{color:var(--muted); text-decoration:none; border-bottom:1px dotted rgba(148,163,184,.5); transition:color .18s ease, border-color .18s ease; word-break:break-word;}
.word-card__source-link:hover{color:var(--fg); border-bottom-color:rgba(226,232,240,.6);}
.word-card__source-link:focus-visible{outline:2px solid var(--primary); outline-offset:2px;}
.word-card__footer{display:flex; justify-content:space-between; align-items:center; margin-top:8px; gap:12px; flex-wrap:wrap;}
.word-card__stats,
.word-card__next{overflow-wrap:anywhere;}
.stack{display:flex; gap:8px;}
.tap{ user-select:none;}

.leap-header .home-header__brand{text-transform:none; letter-spacing:0.08em;}
.leap-setup-main{flex:1; display:flex; justify-content:center; padding:40px clamp(24px, 6vw, 120px);}
.leap-setup-grid{width:100%; max-width:1080px; display:flex; gap:28px; align-items:flex-start; justify-content:center; margin:0 auto;}
.leap-setup-form{flex:0 0 440px; width:100%; max-width:440px; display:flex; flex-direction:column; gap:20px;}
.leap-control-card{display:flex; flex-direction:column; gap:20px; padding:24px; background:rgba(21,31,55,.94); border:1px solid rgba(56,189,248,.18);}
.leap-control-title{margin:0; font-size:18px; font-weight:700; letter-spacing:0.06em; color:var(--fg);}
.leap-control-pill{font-size:13px; letter-spacing:0.04em; color:var(--muted); background:rgba(15,23,42,.75); border:1px solid rgba(51,65,85,.55); border-radius:999px; padding:6px 12px; white-space:nowrap;}
.leap-range-line{display:flex; flex-direction:column; align-items:flex-start; gap:12px;}
.leap-range-label{font-size:13px; letter-spacing:0.06em; color:var(--muted); text-transform:uppercase; font-weight:600; display:flex; align-items:center;}
.leap-range-stack{display:flex; flex-wrap:wrap; gap:12px; width:100%;}
.leap-range-option{display:flex; flex-direction:column; gap:6px; min-width:0; flex:1 1 0;}
.leap-range-pill{position:relative; display:flex; align-items:center; gap:12px; padding:12px 18px; border-radius:999px; border:1px solid rgba(56,189,248,.82); background:rgba(15,27,53,.78); box-shadow:0 14px 28px rgba(14,165,233,.18); transition:border-color .18s ease, background .18s ease, box-shadow .18s ease;}
.leap-range-pill:hover,
.leap-range-pill:focus-within{border-color:rgba(96,200,255,.95); background:rgba(12,24,46,.92); box-shadow:0 16px 34px rgba(14,165,233,.26);}
.leap-range-pill.filled{border-color:rgba(96,200,255,.95); background:rgba(12,24,46,.92); box-shadow:0 16px 34px rgba(14,165,233,.26);}
.leap-range-pill__label{font-size:12px; letter-spacing:0.08em; color:rgba(226,232,240,.88);}
.leap-range-input{flex:1; min-width:0; background:transparent; border:none; color:var(--fg); font-size:16px; letter-spacing:0.04em; text-align:left; padding:0; outline:none; appearance:textfield;}
.leap-range-input::placeholder{color:rgba(148,163,184,.6);}
.leap-range-input::-webkit-outer-spin-button,
.leap-range-input::-webkit-inner-spin-button{margin:0;}
.leap-error{margin-top:4px;}
.leap-range-summary{font-size:12px; letter-spacing:0.05em; color:var(--muted);}
.leap-checkbox{display:flex; align-items:center; gap:10px; font-weight:600; letter-spacing:0.02em;}
.leap-checkbox input{width:18px; height:18px;}
.leap-order-row{display:flex; align-items:center; gap:16px; flex-wrap:wrap;}
.leap-order-label{font-size:13px; letter-spacing:0.06em; color:var(--muted);}
.leap-order-pills{display:flex; gap:12px; flex-wrap:wrap;}
.leap-order-pill{position:relative; display:flex; align-items:center; justify-content:center; gap:8px; padding:12px 18px; border-radius:999px; border:1px solid rgba(51,65,85,.6); background:rgba(15,23,42,.7); cursor:pointer; font-weight:600; color:var(--muted); letter-spacing:0.02em; transition:border-color .18s ease, background .18s ease, color .18s ease, box-shadow .18s ease;}
.leap-order-pill:hover{border-color:#3b82f6; color:#e0f2fe; box-shadow:0 12px 24px rgba(59,130,246,.2);}
.leap-order-pill input{position:absolute; inset:0; opacity:0; pointer-events:none;}
.leap-order-pill.active{background:rgba(56,189,248,.24); border-color:rgba(56,189,248,.75); color:#e0f2fe; box-shadow:0 14px 28px rgba(14,165,233,.22);}
.leap-actions{display:flex; align-items:center; gap:16px; margin-top:8px;}
.leap-checkbox-inline{position:relative; display:inline-flex; align-items:center; gap:10px; font-weight:600; letter-spacing:0.02em; color:var(--muted); cursor:pointer; padding:0; border:none; background:transparent;}
.leap-checkbox-inline input{position:absolute; inset:0; opacity:0; cursor:pointer;}
.leap-checkbox-inline:hover .leap-checkbox-box{border-color:#3b82f6;}
.leap-checkbox-inline:hover .leap-checkbox-label{color:#e0f2fe;}
.leap-checkbox-inline input:focus-visible + .leap-checkbox-box{outline:2px solid rgba(96,200,255,.9); outline-offset:2px;}
.leap-checkbox-inline input:checked ~ .leap-checkbox-label{color:#e0f2fe;}
.leap-checkbox-box{position:relative; width:20px; height:20px; border-radius:6px; border:2px solid rgba(56,189,248,.75); display:flex; align-items:center; justify-content:center; background:transparent; transition:background .18s ease, border-color .18s ease, box-shadow .18s ease;}
.leap-checkbox-box::after{content:''; width:8px; height:14px; border-right:2px solid transparent; border-bottom:2px solid transparent; transform:rotate(45deg); transition:border-color .18s ease;}
.leap-checkbox-inline input:checked + .leap-checkbox-box{background:rgba(56,189,248,.28); border-color:rgba(56,189,248,.95); box-shadow:0 8px 20px rgba(14,165,233,.2);}
.leap-checkbox-inline input:checked + .leap-checkbox-box::after{border-color:#e0f2fe;}
.leap-checkbox-label{color:inherit; transition:color .18s ease;}
.leap-preview-panel{flex:0 0 440px; width:100%; max-width:440px; display:flex; flex-direction:column; gap:20px; padding:24px; min-height:360px; background:rgba(10,16,30,.94); border:1px solid rgba(15,118,110,.22); box-sizing:border-box;}
.leap-preview-header{display:flex; justify-content:space-between; align-items:center; gap:16px; flex-wrap:wrap;}
.leap-preview-body{flex:1; display:flex; flex-direction:column; gap:10px; overflow:auto; padding-right:6px;}
.leap-preview-list{display:flex; flex-direction:column; gap:10px;}
.leap-preview-card{position:relative; border:1px solid rgba(51,65,85,.5); background:rgba(11,18,32,.92); border-radius:12px; padding:14px 16px; display:flex; flex-direction:column; gap:8px; cursor:pointer; transition:border-color .2s ease, background .2s ease, box-shadow .2s ease, transform .2s ease;}
.leap-preview-card:hover{border-color:rgba(56,189,248,.4); box-shadow:0 12px 28px rgba(14,165,233,.16); transform:translateY(-1px);}
.leap-preview-card:focus-visible{outline:2px solid var(--primary); outline-offset:3px;}
.leap-preview-card.selected{border-color:rgba(56,189,248,.75); background:rgba(14,165,233,.18); box-shadow:0 12px 28px rgba(14,165,233,.2);}
.leap-preview-card.in-range:not(.selected){border-color:rgba(34,197,94,.4); background:rgba(6,95,70,.16);}
.leap-preview-card.focus{box-shadow:0 18px 36px rgba(59,130,246,.25);}
.leap-preview-card__meta{display:flex; align-items:center; justify-content:space-between; gap:10px;}
.leap-preview-card__heading{font-size:11px; letter-spacing:0.08em; color:var(--muted); text-transform:uppercase;}
.leap-preview-check{width:20px; height:20px; border-radius:999px; border:1px solid rgba(34,197,94,.4); display:flex; align-items:center; justify-content:center; font-size:12px; color:transparent; background:rgba(15,23,42,.8); transition:color .18s ease, border-color .18s ease, background .18s ease, transform .18s ease;}
.leap-preview-card.selected .leap-preview-check{color:#34d399; border-color:rgba(34,197,94,.85); background:rgba(6,95,70,.35); transform:scale(1.1);}
.leap-preview-card__content{display:flex; flex-direction:column; gap:6px;}
.leap-preview-card__phrase-row{display:flex; align-items:center; justify-content:space-between; gap:12px; flex-wrap:wrap;}
.leap-preview-card__phrase{font-size:18px; font-weight:600; letter-spacing:0.03em; color:var(--fg);}
.leap-preview-card__meaning{font-size:14px; font-weight:500; color:var(--accent);}
.leap-preview-card__details{display:flex; flex-direction:column; gap:4px; margin-top:2px;}
.leap-preview-card__example{font-size:12px; font-style:italic; color:var(--muted); line-height:1.4;}
.leap-preview-card__source{font-size:11px; color:var(--muted); line-height:1.4;}
.leap-preview-empty{min-height:140px; display:flex; align-items:center; justify-content:center; border:1px dashed rgba(51,65,85,.6); border-radius:14px; padding:24px; font-size:14px;}
.leap-preview-filters{display:flex; align-items:center; gap:8px; flex-wrap:wrap;}
.leap-preview-filter{appearance:none; border-radius:999px; border:1px solid rgba(51,65,85,.6); background:rgba(17,24,39,.75); color:var(--muted); font-size:13px; letter-spacing:0.04em; padding:6px 14px; cursor:pointer; transition:border-color .18s ease, background .18s ease, color .18s ease, box-shadow .18s ease;}
.leap-preview-filter:hover{border-color:rgba(56,189,248,.6); color:#e0f2fe;}
.leap-preview-filter.active{border-color:rgba(56,189,248,.85); background:rgba(56,189,248,.22); color:#e0f2fe; box-shadow:0 12px 20px rgba(14,165,233,.22);}
.leap-preview-filter:disabled{opacity:.4; cursor:default;}
.leap-chunk-controls{display:flex; align-items:center; gap:8px; padding:6px 16px; border-radius:12px; border:1px solid rgba(51,65,85,.5); background:rgba(15,23,42,.65); flex-wrap:nowrap; width:100%; box-sizing:border-box;}
.leap-chunk-controls--footer{justify-content:center; margin-top:16px;}
.leap-chunk-nav{appearance:none; width:32px; height:32px; border-radius:999px; border:1px solid rgba(56,189,248,.45); background:transparent; color:var(--fg); display:flex; align-items:center; justify-content:center; font-size:16px; font-weight:600; cursor:pointer; transition:border-color .18s ease, background .18s ease, color .18s ease;}
.leap-chunk-nav:hover:not(:disabled){border-color:rgba(56,189,248,.75); background:rgba(56,189,248,.2); color:#e0f2fe;}
.leap-chunk-nav:disabled{opacity:.35; cursor:default;}
.leap-chunk-track{display:flex; align-items:center; gap:8px; overflow-x:auto; padding:2px 4px; scrollbar-width:none; -ms-overflow-style:none; touch-action:pan-x; -webkit-overflow-scrolling:touch; flex:1 1 auto; min-width:0; position:relative;}
.leap-chunk-track::-webkit-scrollbar{display:none;}
.leap-chunk-pill{appearance:none; border-radius:999px; border:1px solid rgba(51,65,85,.6); background:rgba(17,24,39,.9); color:var(--muted); padding:4px 12px; font-size:12px; letter-spacing:0.05em; cursor:pointer; transition:border-color .18s ease, background .18s ease, color .18s ease;}
.leap-chunk-pill:hover{border-color:rgba(56,189,248,.6); color:#e0f2fe;}
.leap-chunk-pill.active{border-color:rgba(56,189,248,.85); background:rgba(56,189,248,.24); color:#e0f2fe;}
.leap-chunk-active{font-size:12px; letter-spacing:0.05em; color:var(--muted);}

.leap-session-screen{--header-height:72px; --session-footer-space:calc(180px + env(safe-area-inset-bottom, 0px)); padding-bottom:var(--session-footer-space);}
.leap-session-main{flex:1; display:flex; align-items:center; justify-content:center; padding:16px 0; min-height:calc(100vh - var(--header-height) - var(--session-footer-space));}
@supports (height:100svh){
  .leap-session-main{ min-height:calc(100svh - var(--header-height) - var(--session-footer-space)); }
}
@supports (height:100dvh){
  .leap-session-main{ min-height:calc(100dvh - var(--header-height) - var(--session-footer-space)); }
}
.leap-card{width:min(520px, 100%); display:flex; flex-direction:column; gap:14px; text-align:center;}
.leap-card__heading{font-size:14px; font-weight:600; color:var(--muted); letter-spacing:0.08em;}
.leap-card__phrase{font-size:32px; font-weight:700; letter-spacing:0.04em; color:var(--fg);}
.leap-card__meaning{font-size:18px; color:var(--accent);}
.leap-card__example{font-size:15px; line-height:1.6;}
.leap-card__source{font-size:13px;}
.leap-session-footer{position:fixed; left:0; right:0; bottom:0; padding:22px clamp(24px, 7vw, 128px) calc(22px + env(safe-area-inset-bottom, 0px)); background:rgba(15,23,42,.92); backdrop-filter:blur(18px); border-top:1px solid #1f2937; display:flex; align-items:center; justify-content:space-between; gap:24px; z-index:35;}

.settings-body{ width:100%; max-width:720px; margin:0 auto; padding:0 clamp(16px, 6vw, 48px); box-sizing:border-box; display:flex; flex-direction:column; align-items:center; gap:20px; }
.settings-screen .settings-body{ padding-top:calc(var(--header-height) + 24px); padding-bottom:32px; }
.settings-cluster{ width:100%; max-width:520px; margin:0 auto; display:flex; flex-direction:column; align-items:center; gap:16px; padding:24px; border-radius:24px; border:1px solid rgba(148,163,184,.32); background:rgba(13,21,34,.78); box-sizing:border-box; }
.settings-cluster__label{ font-size:12px; letter-spacing:0.34em; color:var(--muted); text-transform:uppercase; text-align:center; }
.settings-card{ width:100%; max-width:440px; border-radius:20px; background:rgba(14,22,38,.92); border:1px solid rgba(94,234,212,.35); display:flex; flex-direction:column; gap:14px; padding:24px 28px; box-sizing:border-box; transition:box-shadow .2s ease, border-color .2s ease; }
.settings-card__eyebrow{ font-size:11px; letter-spacing:0.32em; color:var(--muted); text-transform:uppercase; }
.settings-card__header{ appearance:none; display:flex; align-items:flex-start; justify-content:space-between; gap:12px; background:none; border:none; padding:0; margin:0; color:inherit; width:100%; text-align:left; cursor:pointer; }
.settings-card__title-group{ flex:1; display:flex; flex-direction:column; gap:4px; }
.settings-card__title{ font-size:20px; font-weight:700; letter-spacing:0.08em; }
.settings-card__description{ font-size:14px; color:var(--muted); line-height:1.6; }
.settings-card__content{ overflow:hidden; transition:max-height .24s ease; }
.settings-form{ width:100%; gap:14px; }
.calendar-body{ display:flex; flex-direction:column; align-items:stretch; justify-content:flex-start; gap:18px; min-height:0; }
.calendar-screen{ background:#020617; color:#e2e8f0; overflow:hidden; padding-bottom:calc(var(--footer-height) + 32px); display:flex; flex-direction:column; min-height:100vh; }
.calendar-screen--month{ padding:calc(var(--header-height) + 24px) clamp(18px, 6vw, 48px) calc(var(--footer-height) + 48px); }
.calendar-screen-day.page-screen{ padding:calc(env(safe-area-inset-top, 0px)) 0 calc(var(--footer-height) + env(safe-area-inset-bottom, 0px)); }
.calendar-month-view{ flex:1; display:flex; padding:0 clamp(12px, 4vw, 36px) clamp(24px, 6vw, 56px); box-sizing:border-box; width:100%; }
.calendar-month-view > section{ flex:1; }
.calendar-day-frame{ --day-frame-width:min(420px, calc(100vw - 32px)); --day-toolbar-height:84px; --day-week-grid-height:140px; --day-week-grid-gap:8px; --day-main-offset:0px; width:var(--day-frame-width); margin:0 auto; background:linear-gradient(180deg, #070b16 0%, #050912 100%); border-radius:36px; box-shadow:0 32px 80px rgba(0,0,0,.55); display:flex; flex-direction:column; min-height:calc(100vh - var(--footer-height) - 48px); padding-top:calc(var(--day-toolbar-height) + var(--day-week-grid-gap) + var(--day-week-grid-height) + var(--day-main-offset)); padding-bottom:calc(8px + env(safe-area-inset-bottom, 0px)); overflow:hidden; position:relative; }
.calendar-day-toolbar{ display:flex; align-items:center; justify-content:space-between; padding:4px 18px 6px; }
.calendar-day-toolbar--header{ position:fixed; top:calc(max(0px, env(safe-area-inset-top, 0px) - 6px)); left:50%; transform:translateX(-50%); width:var(--day-frame-width); z-index:20; padding:4px 18px; min-height:var(--day-toolbar-height); background:rgba(4,6,14,.97); backdrop-filter:blur(18px); border-radius:26px; box-shadow:0 14px 32px rgba(0,0,0,.45); }
.calendar-day-toolbar__nav{ display:flex; align-items:center; gap:6px; border:none; background:transparent; color:#f87171; font-weight:700; font-size:20px; letter-spacing:0.08em; cursor:pointer; }
.calendar-day-toolbar__actions{ display:flex; align-items:center; gap:12px; }
.calendar-day-toolbar__action{ width:48px; height:48px; border-radius:16px; border:1px solid rgba(148,163,184,.35); background:rgba(15,23,42,.72); color:#e2e8f0; display:flex; align-items:center; justify-content:center; transition:transform .18s ease, border-color .18s ease; cursor:pointer; }
.calendar-day-toolbar__action.is-accent{ background:#ef4444; border-color:#ef4444; }
.calendar-day-toolbar__action:active{ transform:scale(0.94); }
.calendar-day-week-grid{ position:fixed; top:calc(max(0px, env(safe-area-inset-top, 0px) - 6px) + var(--day-toolbar-height) + var(--day-week-grid-gap)); left:50%; transform:translateX(-50%); width:var(--day-frame-width); z-index:18; display:grid; grid-template-columns:repeat(7, minmax(0, 1fr)); gap:4px; padding:8px 16px 16px; background:rgba(4,6,14,.97); border-radius:22px; box-shadow:0 16px 30px rgba(0,0,0,.45); }
.calendar-day-week-grid__weekday{ display:flex; align-items:center; justify-content:center; font-size:12px; letter-spacing:0.18em; text-transform:uppercase; color:#cbd5f5; }
.calendar-day-week-grid__cell{ border:none; background:transparent; color:#f8fafc; font-weight:600; display:flex; flex-direction:column; align-items:center; gap:4px; padding:6px 0; cursor:pointer; width:100%; }
.calendar-day-week-grid__number{ width:36px; height:36px; border-radius:50%; display:flex; align-items:center; justify-content:center; }
.calendar-day-week-grid__dot{ width:6px; height:6px; border-radius:999px; background:#facc15; }
.calendar-day-week-grid__cell.is-today .calendar-day-week-grid__number{ border:1px solid #f97316; color:#f97316; }
.calendar-day-week-grid__cell.is-selected .calendar-day-week-grid__number{ background:#ef4444; color:#fff; box-shadow:0 8px 18px rgba(239,68,68,.35); }
.calendar-day-main{ flex:1; min-height:0; padding:0 18px calc(18px + env(safe-area-inset-bottom, 0px)) 22px; display:flex; box-sizing:border-box; overflow:auto; scrollbar-width:none; -ms-overflow-style:none; }
.calendar-day-main::-webkit-scrollbar{ width:0; height:0; }
.calendar-day-main::-webkit-scrollbar-thumb{ display:none; }
.calendar-day-frame .calendar-timeline{ --calendar-hour-height:32px; }
.calendar-month-panel{ border-radius:32px; padding:22px; background:rgba(15,23,42,.92); border:1px solid rgba(51,65,85,.8); box-shadow:0 36px 72px rgba(2,6,23,.6); display:flex; flex-direction:column; gap:14px; width:100%; height:100%; }
.calendar-month-nav{ display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:12px; }
.calendar-month-nav--header{ position:sticky; top:calc(var(--header-height, 0px)); z-index:5; background:linear-gradient(180deg, rgba(5,7,15,.9), rgba(5,7,15,0)); padding:18px clamp(18px, 6vw, 40px) 10px; }
.calendar-month-nav__title{ font-size:22px; font-weight:700; letter-spacing:0.08em; color:#f8fafc; margin:0; }
.calendar-month-nav__button{ width:44px; height:44px; border-radius:16px; border:1px solid rgba(51,65,85,.9); background:rgba(15,23,42,.9); color:#f8fafc; display:flex; align-items:center; justify-content:center; transition:transform .18s ease, border-color .18s ease; }
.calendar-month-nav__button:active{ transform:scale(0.94); border-color:#94a3b8; }
.calendar-weekdays{ display:grid; grid-template-columns:repeat(7, 1fr); text-align:center; font-size:12px; letter-spacing:0.12em; text-transform:uppercase; color:#94a3b8; }
.calendar-weekdays__label{ font-weight:600; }
.calendar-month-grid{ display:grid; grid-template-columns:repeat(7, 1fr); gap:6px; }
.calendar-day{ border:none; background:transparent; border-radius:16px; padding:6px 0; display:flex; flex-direction:column; align-items:center; justify-content:center; min-height:52px; color:#f8fafc; font-weight:600; gap:5px; transition:transform .15s ease; }
.calendar-day:active{ transform:scale(0.94); }
.calendar-day.is-outside{ color:#475569; }
.calendar-day__number{ width:36px; height:36px; border-radius:999px; display:flex; align-items:center; justify-content:center; font-size:16px; }
.calendar-day.is-today .calendar-day__number{ border:1.5px solid #f97316; color:#f97316; }
.calendar-day.is-selected .calendar-day__number{ background:#ef4444; color:#fff; box-shadow:0 8px 18px rgba(239,68,68,.35); }
.calendar-day__dot{ width:6px; height:6px; border-radius:999px; background:#38bdf8; }
.calendar-day.is-selected .calendar-day__dot{ background:#fff; }
.calendar-surface{ flex:1; width:100%; max-width:100%; border-radius:32px; border:1px solid rgba(51,65,85,.7); padding:20px 22px; background:rgba(15,23,42,.95); box-shadow:0 24px 60px rgba(2,6,23,.6); overflow:hidden; min-height:0; box-sizing:border-box; margin:0 auto; }
.calendar-day-view{ flex:1; }
.calendar-scroll{ flex:1; width:100%; overflow:auto; padding-right:8px; box-sizing:border-box; }
.calendar-scroll::-webkit-scrollbar{ width:8px; }
.calendar-scroll::-webkit-scrollbar-thumb{ background:rgba(148,163,184,.45); border-radius:999px; }
.calendar-timeline{ --calendar-hours:24; --calendar-hour-height:52px; display:grid; grid-template-columns:auto 1fr; gap:8px; align-items:stretch; width:100%; box-sizing:border-box; min-height:calc(var(--calendar-hour-height) * var(--calendar-hours)); }
.calendar-timeline--day{ gap:12px; }
.calendar-time-column{ min-height:100%; display:flex; flex-direction:column; align-items:flex-end; justify-content:flex-start; font-weight:600; color:#64748b; font-size:12px; letter-spacing:0.12em; text-align:right; padding-right:6px; }
.calendar-time-label{ height:var(--calendar-hour-height); display:flex; align-items:flex-start; justify-content:flex-end; width:100%; padding-top: 0px; }
.calendar-grid{ position:relative; height:100%; min-height:100%; border-radius:24px; border:1px solid rgba(71,85,105,.8); background:rgba(10,15,28,.9); overflow:hidden; touch-action:none; box-shadow:inset 0 0 0 1px rgba(15,23,42,.65); }
.calendar-grid--day{ border-radius:22px; border-color:rgba(71,85,105,.8); background:rgba(5,8,20,.92); }
.calendar-grid__surface{ position:absolute; inset:0; background-image:repeating-linear-gradient(to bottom, transparent, transparent calc(var(--calendar-hour-height) - 1px), rgba(51,65,85,.6) calc(var(--calendar-hour-height) - 1px), rgba(51,65,85,.6) var(--calendar-hour-height)); background-position-y: 8px; pointer-events:none; z-index:1; }
.calendar-grid::before{ content:''; position:absolute; top:0; bottom:0; left:22px; width:2px; background:rgba(239,68,68,.7); z-index:2; }
.calendar-event{ position:absolute; left:30px; right:20px; border-radius:18px; padding:12px 14px; display:flex; flex-direction:column; gap:2px; box-shadow:0 20px 30px rgba(0,0,0,.35); border:1px solid transparent; z-index:3; }
.calendar-event__title{ margin:0; font-size:15px; font-weight:700; letter-spacing:0.02em; color:#0f172a; }
.calendar-event__location{ margin:0; font-size:12px; letter-spacing:0.04em; color:#0f172a; opacity:.85; }
.calendar-event--default{ background:rgba(248,250,252,.92); border-color:rgba(226,232,240,.9); }
.calendar-event--purple{ background:rgba(236,233,254,.9); border-color:rgba(196,181,253,.8); }
.calendar-event--peach{ background:rgba(254,243,199,.95); border-color:rgba(251,191,36,.7); }
.calendar-event--new{ background:rgba(254,226,226,.95); border-color:rgba(248,113,113,.6); }
.calendar-current-time{ position:absolute; left:22px; right:14px; height:2px; background:#ef4444; display:flex; align-items:center; z-index:4; }
.calendar-current-time__dot{ width:10px; height:10px; border-radius:999px; background:#ef4444; border:2px solid #fff; box-shadow:0 0 0 6px rgba(239,68,68,.25); }
@media (max-width:640px){
  .calendar-screen--month{ padding:calc(var(--header-height) + 18px) 16px calc(var(--footer-height) + 32px); }
  .calendar-month-view{ padding:0 12px 24px; }
  .calendar-month-panel{ padding:16px; border-radius:26px; }
  .calendar-day__number{ width:30px; height:30px; font-size:14px; }
  .calendar-surface{ padding:16px; border-radius:26px; }
  .calendar-timeline{ --calendar-hour-height:48px; }
  .calendar-time-column{ font-size:11px; padding-bottom:8px; }
  .calendar-day-week-grid{ padding:4px 12px 12px; }
  .calendar-day-frame{ --day-toolbar-height:70px; --day-week-grid-height:100px; --day-week-grid-gap:6px; }
  .calendar-day-main{ padding:2px 10px 20px 10px; }
  .calendar-day-frame{ width:calc(100vw - 20px); border-radius:28px; }
}
.leap-session-actions{display:flex; gap:14px;}
.leap-session-actions .btn{min-width:140px; font-size:18px;}
.leap-session-stats{display:flex; gap:18px; font-size:14px; color:var(--muted); flex-wrap:wrap;}
.leap-finished-card{display:flex; flex-direction:column; align-items:center; gap:16px; text-align:center;}
.leap-finished-title{font-size:20px; font-weight:700; letter-spacing:0.04em;}
.leap-finished-actions{display:flex; flex-wrap:wrap; justify-content:center; gap:12px; margin-top:4px;}
.leap-finished-actions .btn{min-width:160px;}

@media (max-width:960px){
  .leap-setup-grid{flex-direction:column; gap:24px; align-items:stretch; justify-content:flex-start;}
  .leap-setup-form{width:100%; max-width:100%; flex:1 1 auto;}
  .leap-preview-panel{width:100%; max-width:100%; flex:1 1 auto;}
}

@media (max-width:480px){
  .container{ padding:calc(12px + env(safe-area-inset-top, 0px)) 12px calc(20px + env(safe-area-inset-bottom, 0px)); }
  .card{ padding:12px; }
  .row{ gap:10px; }
  .col{ gap:6px; }
  .home-layout{ gap:10px; }
  .home-screen{ padding:calc(var(--header-height) + 16px) 20px calc(var(--footer-height) + 28px + env(safe-area-inset-bottom, 0px)); }
  .home-header{ padding:calc(10px + env(safe-area-inset-top, 0px)) 20px 10px; }
  .home-header__brand{ font-size:16px; letter-spacing:0.08em; }
  .icon-button{ width:56px; height:56px; }
  .home-body{ gap:18px; }
  .page-screen{ padding:calc(var(--header-height) + 18px) 20px calc(var(--footer-height) + 28px + env(safe-area-inset-bottom, 0px)); }
  .footer-nav{ padding:8px 12px calc(6px + env(safe-area-inset-bottom, 0px)); gap:4px; }
  .footer-nav__icon{ width:34px; height:34px; border-radius:10px; }
  .footer-nav__label{ font-size:8px; letter-spacing:0.1em; }
  .settings-body{ padding:0 16px; width:100%; }
  .settings-cluster{ padding:18px; border-radius:20px; }
  .settings-card{ padding:20px; width:100%; }
  .settings-card__title{ font-size:18px; }
  .settings-screen .settings-body{ padding-top:calc(var(--header-height) - 50px); padding-bottom:24px; }
  .hero-stack{ --circle-size:clamp(220px, 74vw, 360px); height:calc(var(--circle-size) * 1.5); }
  .hero-orb--main{ width:calc(var(--circle-size) * 0.96); height:calc(var(--circle-size) * 0.96); border-width:4px; }
  .hero-label{ letter-spacing:0.08em; font-size:clamp(18px, 7vw, 26px); }
  .hero-meta{ font-size:clamp(10px, 3.8vw, 13px); gap:3px; }
  .hero-meta__date{ letter-spacing:0.1em; }
  .hero-number{ font-size:clamp(11px, 5vw, 15px); }
  .hero-meta__detail--day{ white-space:normal; }
  .fab-container{ right:20px; bottom:calc(var(--footer-height) + 20px + env(safe-area-inset-bottom, 0px)); gap:10px; }
  .fab-item{ padding:16px 20px; font-size:17px; min-width:190px; }
  .fab-toggle{ width:56px; height:56px; font-size:30px; }
  .modal-card{ width:calc(100% - 28px); border-radius:16px; }
  .modal-header{ padding:16px 18px 12px; }
  .modal-body{ padding:18px; }
  .modal-title{ font-size:16px; }
  .modal-actions{ flex-direction:column; align-items:stretch; gap:8px; }
  .words-screen{ padding:calc(var(--header-height) + 14px) 20px calc(100px + env(safe-area-inset-bottom, 0px)); }
  .words-toolbar{ padding:14px; gap:8px; }
  .words-header__search{ gap:6px; }
  .words-header__metrics{ font-size:12px; }
  .words-main{ padding-top:10px; }
  .review-screen{ --review-footer-height:188px; }
  .review-body{ gap:20px; padding-top:calc(var(--header-height) + 12px); padding-bottom:calc(var(--review-footer-height) + 32px); }
  .review-card{ min-height:220px; padding:24px 18px; }
  .review-footer{ gap:12px; padding:16px 20px calc(16px + env(safe-area-inset-bottom, 0px)); }
  .review-footer__stats{ flex-direction:column; align-items:center; gap:6px; font-size:13px; }
  .review-grade-grid{ gap:10px; }
  .review-grade{ padding:14px 0; font-size:15px; }
  .leap-setup-main{padding:28px 16px;}
  .leap-control-card{padding:18px;}
  .leap-range-stack{gap:8px;}
  .leap-range-pill{padding:10px 14px;}
  .leap-range-input{flex:1; min-width:0; font-size:16px;}
  .leap-range-line{gap:8px;}
  .leap-order-row{flex-direction:column; align-items:flex-start; gap:8px;}
  .leap-order-pills{width:100%;}
  .leap-order-pill{flex:1; justify-content:center;}
  .leap-actions{flex-direction:column; align-items:stretch; gap:12px;}
  .leap-session-footer{flex-direction:column; align-items:stretch; gap:12px; padding:18px 20px calc(18px + env(safe-area-inset-bottom, 0px));}
  .leap-session-actions{width:100%; flex-direction:row; justify-content:space-between; gap:10px;}
  .leap-session-actions .btn{flex:1; min-width:0;}
  .leap-session-stats{width:100%; justify-content:space-between;}
  .leap-card__phrase{font-size:26px;}
  .leap-preview-panel{padding:18px; min-height:260px;}
  .leap-preview-body{padding-right:2px; gap:8px;}
  .leap-preview-filters{width:100%; justify-content:space-between; gap:6px;}
  .leap-preview-filter{flex:1; padding:6px 10px; font-size:12px;}
  .leap-chunk-controls{flex-direction:row; align-items:center; gap:6px; padding:8px 12px; box-sizing:border-box;}
  .leap-chunk-controls--footer{margin-top:20px;}
  .leap-chunk-nav{width:30px; height:30px;}
  .leap-chunk-track{flex:1 1 auto; width:auto;}
  .leap-chunk-active{text-align:right;}
  .leap-preview-list{gap:6px;}
  .leap-preview-card{padding:10px 12px; border-radius:10px; gap:6px;}
  .leap-preview-card__meta{gap:6px;}
  .leap-preview-check{width:18px; height:18px; font-size:11px;}
  .leap-preview-card__phrase-row{flex-direction:column; align-items:flex-start; gap:4px;}
  .leap-preview-card__phrase{font-size:15px;}
  .leap-preview-card__meaning{font-size:13px;}
  .leap-preview-card__details{gap:3px;}
  .leap-preview-card__example{font-size:11px;}
  .leap-preview-card__source{font-size:10px;}
  .leap-finished-actions{flex-direction:column; width:100%;}
  .leap-finished-actions .btn{width:100%; min-width:0;}
}
